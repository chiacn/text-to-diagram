(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8529:function(e,t,n){Promise.resolve().then(n.bind(n,1921)),Promise.resolve().then(n.bind(n,778)),Promise.resolve().then(n.bind(n,9830)),Promise.resolve().then(n.bind(n,8961)),Promise.resolve().then(n.bind(n,4478)),Promise.resolve().then(n.bind(n,4676))},1921:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var r=n(7437),s=n(2265);function a(e){let{item:t,stepProgressItemRef:n,stepOffsetInfo:s,highlightColor:a,inquiryType:i}=e,o={example:["target","example","description","result"],logical_progression:["target","statement","description","implications"],tree:["target"]};return(0,r.jsx)("div",{className:"absolute",ref:n,style:{left:s.longestLinePosition+40,top:s.submittedTextMinHeight<200?20:80},children:(0,r.jsxs)("div",{className:"w-[520px] rounded-xl shadow-lg border border-gray-200 p-4 my-4 transition-transform transform hover:scale-105 hover:shadow-xl cursor-pointer bg-white",children:[(0,r.jsxs)("div",{className:"text-xl font-bold text-gray-900 mb-2",children:["Step ",t.step]}),Object.entries(t).filter(e=>{let[t,n]=e,r=o[null!=i?i:"example"];return Array.isArray(r)&&r.includes(t.toLowerCase())}).map(e=>{let[t,n]=e;return"step"===t?null:(0,r.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,r.jsxs)("strong",{children:[t.charAt(0).toUpperCase()+t.slice(1),":"]}),(0,r.jsx)("span",{className:"ml-1 block max-h-[200px] overflow-y-scroll scrollbar-custom",children:"target"===t?(0,r.jsx)("span",{style:{backgroundColor:a},children:n}):"result"===t?JSON.stringify(n,(e,t)=>Array.isArray(t)?JSON.stringify(t).replace(/^\[|\]$/g,"").replace(/,/g,", "):t,2).replace(/"(\[.*?\])"/g,"$1").replace(/},/g,"},\n"):JSON.stringify(n)})]},t)})]})})}function i(e){let{totalSteps:t,currentStep:n,setCurrentStep:s}=e;return(0,r.jsx)("div",{className:"sticky top-4 text-right pointer-events-auto",children:(0,r.jsxs)("div",{className:"flex justify-end items-center space-x-1.5",children:[(0,r.jsx)("button",{onClick:()=>{n>0&&s(n-1)},disabled:0===n,className:"px-3 py-1 rounded-full font-medium shadow-sm transition-transform duration-200 ".concat(0===n?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-sky-100 text-sky-600 hover:bg-sky-200"),children:"← Prev"}),(0,r.jsxs)("span",{className:"px-3 py-1 text-sm font-semibold text-gray-600",children:[n+1," / ",t]}),(0,r.jsx)("button",{onClick:()=>{n<t-1&&s(n+1)},disabled:n>=t-1,className:"px-3 py-1 rounded-full font-medium shadow-sm transition-transform duration-200 ".concat(n>=t-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-sky-100 text-sky-600 hover:bg-sky-200"),children:"Next →"})]})})}function o(e){let{progressActive:t,focusSpreadedStep:n=[],currentStep:s,setCurrentStep:a}=e;return t&&(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-transparent bg-opacity-75 z-10 rounded-lg p-4 pointer-events-none",children:(0,r.jsx)(i,{totalSteps:n.length,currentStep:s,setCurrentStep:a})})}function l(e){let{isPlaying:t,setIsPlaying:n}=e;return(0,r.jsx)("button",{onClick:()=>n(!t),className:"flex items-center px-2.5 py-1.5 bg-sky-200 text-gray-800 rounded-md hover:bg-sky-300 transition-transform duration-300 transform hover:scale-105 shadow-sm",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 mr-1.5",children:[(0,r.jsx)("rect",{x:"6",y:"5",width:"4",height:"14"}),(0,r.jsx)("rect",{x:"14",y:"5",width:"4",height:"14"})]}),"stop"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 mr-1.5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-6.012-3.606A1 1 0 007 8.388v7.224a1 1 0 001.74.808l6.012-3.606a1 1 0 000-1.664z"})}),"play"]})})}var c=n(778),u=n(4478),d=n(9830);function m(e){let{submittedText:t,isOpenSubmittedText:n,setIsOpenSubmittedText:i}=e,[m,h]=(0,s.useState)(t);(0,c.useHighlightItems)();let p=(0,c.useCurrentHighlightStatus)().value;(0,u.useEntireSpreadedStep)();let g=(0,u.useFocusSpreadedStep)(),f=(0,d.useInquiryType)(),{targetColorMap:x}=(0,c.useDiagramRefsPalette)(),{isPlaying:v,setIsPlaying:y,progressActive:b,highlightedTextByStep:w,currentStep:S,setCurrentStep:j,stepOffsetInfo:N,textContainerRef:T,isSmaller:E}=function(e){let{currentHighlightStatus:t,submittedText:n,focusSpreadedStep:i,targetColorMap:o,inquiryType:l}=e,[c,u]=(0,s.useState)(!1),[d,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(0),[g,f]=(0,s.useState)(n),[x,v]=(0,s.useState)(!1),[y,b]=(0,s.useState)({longestLinePosition:0,stepProgressItemHeight:0,highlightedTextPosition:0,submittedTextMinHeight:0,submittedTextMaxHeight:0,submittedTextRightPosition:0}),w=(0,s.useRef)(null),S=(0,s.useRef)(null),j=(0,s.useRef)(null),N=(0,s.useRef)(null),T=()=>{var e;if("tree"===l){E();return}let t=[null==i?void 0:null===(e=i[h])||void 0===e?void 0:e.target];f(I(n,null!=t?t:[]))},E=()=>{if((null==i?void 0:i.length)===0)return;let e=null==i?void 0:i.map(e=>e.element_name);f(I(n,null!=e?e:[]))},I=(e,t)=>{if(!i||0===i.length||!t||0===t.length)return e;let n=!1,s=null,{parts:c,matchingText:u}=function(e){let{text:t,keywords:n,isSimilar:r=!1}=e,s=k(n[0]).replace(/'/g,"’"),a=RegExp("(".concat(s,")"),"gi"),i=null==t?void 0:t.split(a);return!r||i.length>2?{matchingText:n[0],parts:i}:function(e){let{text:t,keywords:n,regex:r}=e,s=t.split("\n"),a={matchingText:"",parts:[]};return n.forEach(e=>{let r=0,i="";s.forEach(t=>{let n=function(e,t){let n=e.length,r=t.length,s=Array.from({length:n+1},()=>Array(r+1).fill(0));for(let e=0;e<=n;e++)s[e][0]=e;for(let e=0;e<=r;e++)s[0][e]=e;for(let a=1;a<=n;a++)for(let n=1;n<=r;n++)e[a-1]===t[n-1]?s[a][n]=s[a-1][n-1]:s[a][n]=Math.min(s[a-1][n],s[a][n-1],s[a-1][n-1])+1;return 1-s[n][r]/Math.max(n,r)}(t,e);n>r&&(r=n,i=t)});let o=k(i),l=RegExp("(".concat(o,")"),"gi"),c=t.split(l);a=r>=.3?{matchingText:i,parts:[...c]}:{matchingText:n[0],parts:[...t.split(l)]}}),a}({text:t,keywords:n,regex:a})}({text:e,keywords:t,isSimilar:!0});return(0,r.jsxs)("span",{ref:N,children:[c.map((e,a)=>{let i=t.find(t=>(null==e?void 0:e.toLowerCase())===(null==u?void 0:u.toLowerCase()));return i&&!n?("tree"!==l&&(n=!0),s=o.current[i]||"#fef3c7",(0,r.jsx)("span",{children:(0,r.jsx)("span",{style:{backgroundColor:s},ref:S,children:e},"progress-".concat(a))},"fragment-".concat(a))):(0,r.jsx)("span",{children:e},"part-".concat(a))}),"tree"!==l&&(0,r.jsx)(a,{item:null==i?void 0:i[h],stepProgressItemRef:j,stepOffsetInfo:y,highlightColor:null!=s?s:"",inquiryType:l},"progress-item")]})},P=()=>{u(!1),m(!1),p(0),b({longestLinePosition:0,stepProgressItemHeight:0,highlightedTextPosition:0,submittedTextMinHeight:0,submittedTextMaxHeight:0,submittedTextRightPosition:0}),v(!1)};function k(e){return null==e?void 0:e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(0,s.useEffect)(()=>{(0===t||1===t)&&P()},[t,i]),(0,s.useEffect)(()=>{d&&T()},[d,h,y.longestLinePosition]),(0,s.useEffect)(()=>{switch(t){case 0:case 1:case 2:c?m(!0):P();break;default:P()}},[c]),(0,s.useLayoutEffect)(()=>{"tree"!==l&&(O(),C())},[g]);let C=()=>{S.current&&S.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},R=(e,t)=>{let n="tree"!==l&&e-t<400;v(e=>e||n)},O=()=>{if(S.current){let e=S.current.getBoundingClientRect();b(t=>({...t,highlightedTextPosition:e.top}))}if(j.current){let e=j.current.getBoundingClientRect();b(t=>({...t,stepProgressItemHeight:e.height}))}if(N.current){var e,t;let n=Math.floor((null===(e=w.current)||void 0===e?void 0:e.getBoundingClientRect().right)||0);null===(t=w.current)||void 0===t||t.getBoundingClientRect().left;let r=Number(N.current.offsetWidth);R(n,r),b(e=>{var t,s;return{...e,longestLinePosition:r,submittedTextMinHeight:(null===(t=w.current)||void 0===t?void 0:t.clientHeight)||0,submittedTextMaxHeight:(null===(s=w.current)||void 0===s?void 0:s.scrollHeight)||0,submittedTextRightPosition:n}})}};return{isPlaying:c,setIsPlaying:u,progressActive:d,highlightedTextByStep:g,currentStep:h,setCurrentStep:p,stepOffsetInfo:y,textContainerRef:w,isSmaller:x}}({currentHighlightStatus:p,submittedText:t,focusSpreadedStep:g,targetColorMap:x,inquiryType:f}),I=e=>null==e?void 0:e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),P=(e,t)=>{if(!t||0===t.length)return e;let n=t.map(e=>I(e)),s=RegExp("(".concat(n.join("|"),")"),"gi");return e.split(s).map((e,n)=>{let s=t.find(t=>(null==e?void 0:e.toLowerCase())===(null==t?void 0:t.toLowerCase()));if(!s)return(0,r.jsx)("span",{children:e},"submitted-".concat(n));{let t=x.current[s]||"#fef3c7";return(0,r.jsx)("span",{style:{backgroundColor:t},children:e},"submitted-".concat(n))}})},k=()=>{if(0===p){h(t);return}let e=null==g?void 0:g.map(e=>"tree"===f?e.element_name:e.target);h(P(t,null!=e?e:[]))};return(0,s.useEffect)(()=>{k()},[g]),(0,r.jsx)("div",{className:"w-full relative",children:(0,r.jsxs)("div",{className:"w-full mt-8 bg-white border border-gray-300 rounded-lg shadow-lg ".concat(t?"opacity-100 max-h-[500px] scale-100":"opacity-0 max-h-0 scale-95"),children:[(0,r.jsxs)("div",{className:"flex items-center p-2 bg-gray-100 border-b border-gray-300 ".concat("tree"===f?"justify-end":"justify-between"),children:["tree"!==f&&(0,r.jsx)(l,{isPlaying:v,setIsPlaying:y}),(0,r.jsx)("button",{onClick:()=>i(!n),className:"text-gray-600 hover:text-gray-800 transition-transform duration-300 transform",children:(0,r.jsx)("span",{className:"inline-block transition-transform duration-300 ".concat(n?"rotate-180":"rotate-0"),children:"▲"})})]}),(0,r.jsxs)("div",{ref:T,className:"transition-all duration-500 transform whitespace-pre-wrap text-left p-4 relative ".concat(n?"opacity-100 max-h-[400px] scale-100":"opacity-0 max-h-0 scale-95 pointer-events-none"),style:{overflowX:"visible"},children:[(0,r.jsx)("div",{className:"inner-container overflow-y-scroll scrollbar-custom ",style:{maxHeight:b&&E?"330px":"380px",overflowX:"hidden",width:b&&E?"calc(100% - 300px)":"100%",marginTop:b&&E?"40px":""},children:b?w:m}),"tree"!==f&&(0,r.jsx)(o,{progressActive:b,focusSpreadedStep:g,currentStep:S,setCurrentStep:j})]})]})})}var h=n(8961),p=n(4676);function g(){let e=(0,p.useStructure)(),t=(0,h.useRenderItems)(),n=(0,h.useContentWrapperRef)();return(0,r.jsx)("div",{ref:n,className:"mt-4 w-full",children:e&&t(e)})}var f=n(9580),x=n(9143),v=n(7742),y=n(2169);let b=(0,v.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),w=s.forwardRef((e,t)=>{let{className:n,variant:s,size:a,asChild:i=!1,...o}=e,l=i?x.g7:"button";return(0,r.jsx)(l,{className:(0,y.cn)(b({variant:s,size:a,className:n})),ref:t,...o})});function S(e){let{onClick:t,className:n,variant:s="default",isLoading:a,children:i}=e;return(0,r.jsx)(r.Fragment,{children:a?(0,r.jsx)(w,{variant:s,className:n,disabled:!0,children:(0,r.jsx)(f.Z,{className:"animate-spin"})}):(0,r.jsx)(w,{variant:s,className:n,onClick:()=>t(),children:i})})}w.displayName="Button";var j=n(8224);function N(e){let{items:t,selectedValue:n,changeInquiryType:s,gap:a=12}=e;return(0,r.jsx)(j.tX,{type:"single",onValueChange:e=>s(e),className:"flex",style:{gap:a},children:t.map(e=>(0,r.jsx)(j.GX,{value:e.value,className:"rounded-3xl text-sm font-medium transition-transform duration-200 p-5\n            ".concat(n===e.value?"bg-gray-700 text-gray-200 shadow-md scale-105":"bg-white-800 text-black-400 border border-gray-600 hover:bg-gray-700 hover:text-white opacity-80","\n          \n          "),children:e.label},e.value))})}let T=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("textarea",{className:(0,y.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...s})});function E(e){let{getCopyPrompt:t,submitPrompt:n,setIsOpen:a}=e,[i,o]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[u,d]=(0,s.useState)(!1),m=async()=>{(await n(l,i)).result&&a(!1)},h=async e=>{d(!0),await t(e),d(!1)};return(0,r.jsxs)("div",{className:"m-8",children:[(0,r.jsx)("h3",{className:"mb-2 text-[16px] text-gray-80",children:"Input your question to generate a prompt."}),(0,r.jsxs)("div",{className:"flex justify-center items-center gap-4 mb-8",children:[(0,r.jsx)(T,{name:"Input your question to get prompt.",rows:4,cols:40,value:i,onChange:e=>o(e.target.value),className:"border border-gray-300 flex-4 w-full h-[90px] min-w-[600px]",placeholder:"Input your question to get prompt."}),(0,r.jsx)(S,{onClick:()=>h(i),className:"min-w-[124px] h-20 ml-2 flex-1 justify-center item-center",isLoading:u,variant:"outline",children:"Get Prompt"})]}),(0,r.jsxs)("h3",{className:"mb-2 text-[16px] text-gray-80",children:["Ask GPT or another LLM using the copied prompt,",(0,r.jsx)("br",{}),"then paste the received answer below the input box."]}),(0,r.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[(0,r.jsx)(T,{name:"Follow the specified JSON format.",rows:4,cols:40,value:l,onChange:e=>c(e.target.value),className:"border border-gray-300 flex-4 w-full h-[90px]",placeholder:"Follow the specified JSON format."}),(0,r.jsx)(w,{variant:"secondary",className:"w-40 h-20 ml-2 flex-1 justify-center item-center border",onClick:()=>m(),children:"Submit JSON"})]})]})}T.displayName="Textarea";var I=n(8709),P=n(2235);let k=I.fC,C=I.xz,R=I.h_;I.x8;let O=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(I.aV,{ref:t,className:(0,y.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s})});O.displayName=I.aV.displayName;let _=s.forwardRef((e,t)=>{let{className:n,children:s,...a}=e;return(0,r.jsxs)(R,{children:[(0,r.jsx)(O,{}),(0,r.jsxs)(I.VY,{ref:t,className:(0,y.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...a,children:[s,(0,r.jsxs)(I.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(P.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});_.displayName=I.VY.displayName;let D=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,y.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};D.displayName="DialogHeader";let A=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(I.Dx,{ref:t,className:(0,y.cn)("text-lg font-semibold leading-none tracking-tight",n),...s})});A.displayName=I.Dx.displayName;let L=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(I.dk,{ref:t,className:(0,y.cn)("text-sm text-muted-foreground",n),...s})});L.displayName=I.dk.displayName;var H=n(6862);function M(e){let{submitPrompt:t}=e,[n,a]=(0,s.useState)(!1),{getPromptByInputText:i}=(0,d.useLLMActions)(),o=async e=>{try{let t=await i(e);await navigator.clipboard.writeText(t||""),(0,H.Am)({variant:"info",description:"Copied!"})}catch(e){(0,H.Am)({variant:e.variant?e.variant:"destructive",description:null==e?void 0:e.message})}};return(0,r.jsxs)(k,{open:n,onOpenChange:a,children:[(0,r.jsx)(C,{asChild:!0,children:(0,r.jsx)(w,{variant:"outline",className:"w-32 h-[90px] ml-2 flex-1 justify-center item-center",children:"Copy Prompt"})}),(0,r.jsxs)(D,{children:[(0,r.jsx)(A,{}),(0,r.jsx)(L,{})]}),(0,r.jsx)(_,{className:"min-w-fit",children:(0,r.jsx)(E,{getCopyPrompt:o,submitPrompt:t,setIsOpen:a})})]})}function q(e){let{setSubmittedText:t,setIsOpenSubmittedText:n}=e,a=(0,d.useInquiryTypesList)(),i=(0,d.useInquiryType)(),o=(0,d.useSetInquiryType)(),l=(0,p.useStructureDispatch)(),m=(0,c.useResetHighlight)(),h=(0,u.useResetDataStructure)(),{getAnswer:g,isLoading:f}=(0,d.useLLMActions)(),[x,v]=(0,s.useState)(""),y=()=>{l({type:"RESET_STRUCTURE"}),t(""),n(!1),m(),h()},b=async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let a=(e||await g(x)).match(/{[\s\S]*}/),i=(a?a[0]:"{}").replace(/"step":\s*([\d.]+)/g,'"step": "$1"'),o=E(i);if(!o.result&&!s)throw Error(o.message);y();let c=JSON.parse(i);return l({type:"SET_STRUCTURE",payload:c}),e&&r?t(r):t(x),n(!0),{result:!0,message:"Success!"}}catch(e){return y(),(0,H.Am)({variant:e.variant?e.variant:"destructive",description:null==e?void 0:e.message}),console.error("Failed to parse JSON:",e),{result:!1,message:e.message}}},w=async()=>{o("example"),b('{\n      "target": "function solution(n)",\n      "example": "function solution(3)",\n      "steps": [\n        {\n          "step": "1",\n          "target": "function solution(n)",\n          "example": "function solution(3)",\n          "description": "The function solution(n) is called with the argument n=3.",\n          "result": {\n            "answer": []\n          },\n          "steps": [\n            {\n              "step": "1.1",\n              "target": "hanoi(n, from, to, via)",\n              "example": "hanoi(3, 1, 3, 2)",\n              "description": "The hanoi function is called with n=3, from=1, to=3, and via=2.",\n              "result": {\n                "answer": []\n              },\n              "steps": [\n                {\n                  "step": "1.1.1",\n                  "target": "hanoi(n - 1, from, via, to)",\n                  "example": "hanoi(2, 1, 2, 3)",\n                  "description": "The hanoi function is called recursively with n=2, from=1, to=2, and via=3.",\n                  "result": {\n                    "answer": []\n                  },\n                  "steps": [\n                    {\n                      "step": "1.1.1.1",\n                      "target": "hanoi(n - 1, from, via, to)",\n                      "example": "hanoi(1, 1, 3, 2)",\n                      "description": "The hanoi function is called recursively with n=1, from=1, to=3, and via=2.",\n                      "result": {\n                        "answer": []\n                      },\n                      "steps": [\n                        {\n                          "step": "1.1.1.1.1",\n                          "target": "answer.push([from, to]);",\n                          "example": "answer.push([1, 3]);",\n                          "description": "The base case of the recursion is reached, and the move from peg 1 to peg 3 is added to the answer array.",\n                          "result": {\n                            "answer": [[1, 3]]\n                          }\n                        }\n                      ]\n                    },\n                    {\n                      "step": "1.1.1.2",\n                      "target": "answer.push([from, to]);",\n                      "example": "answer.push([1, 2]);",\n                      "description": "The move from peg 1 to peg 2 is added to the answer array.",\n                      "result": {\n                        "answer": [\n                          [1, 3],\n                          [1, 2]\n                        ]\n                      }\n                    },\n                    {\n                      "step": "1.1.1.3",\n                      "target": "hanoi(n - 1, via, to, from)",\n                      "example": "hanoi(1, 2, 3, 1)",\n                      "description": "The hanoi function is called recursively with n=1, from=2, to=3, and via=1.",\n                      "result": {\n                        "answer": [\n                          [1, 3],\n                          [1, 2]\n                        ]\n                      },\n                      "steps": [\n                        {\n                          "step": "1.1.1.3.1",\n                          "target": "answer.push([from, to]);",\n                          "example": "answer.push([2, 3]);",\n                          "description": "The base case of the recursion is reached, and the move from peg 2 to peg 3 is added to the answer array.",\n                          "result": {\n                            "answer": [\n                              [1, 3],\n                              [1, 2],\n                              [2, 3]\n                            ]\n                          }\n                        }\n                      ]\n                    }\n                  ]\n                },\n                {\n                  "step": "1.1.2",\n                  "target": "answer.push([from, to]);",\n                  "example": "answer.push([1, 3]);",\n                  "description": "The move from peg 1 to peg 3 is added to the answer array.",\n                  "result": {\n                    "answer": [\n                      [1, 3],\n                      [1, 2],\n                      [2, 3],\n                      [1, 3]\n                    ]\n                  }\n                },\n                {\n                  "step": "1.1.3",\n                  "target": "hanoi(n - 1, via, to, from)",\n                  "example": "hanoi(2, 2, 3, 1)",\n                  "description": "The hanoi function is called recursively with n=2, from=2, to=3, and via=1.",\n                  "result": {\n                    "answer": [\n                      [1, 3],\n                      [1, 2],\n                      [2, 3],\n                      [1, 3]\n                    ]\n                  },\n                  "steps": [\n                    {\n                      "step": "1.1.3.1",\n                      "target": "hanoi(n - 1, from, via, to)",\n                      "example": "hanoi(1, 2, 1, 3)",\n                      "description": "The hanoi function is called recursively with n=1, from=2, to=1, and via=3.",\n                      "result": {\n                        "answer": [\n                          [1, 3],\n                          [1, 2],\n                          [2, 3],\n                          [1, 3]\n                        ]\n                      },\n                      "steps": [\n                        {\n                          "step": "1.1.3.1.1",\n                          "target": "answer.push([from, to]);",\n                          "example": "answer.push([2, 1]);",\n                          "description": "The base case of the recursion is reached, and the move from peg 2 to peg 1 is added to the answer array.",\n                          "result": {\n                            "answer": [\n                              [1, 3],\n                              [1, 2],\n                              [2, 3],\n                              [1, 3],\n                              [2, 1]\n                            ]\n                          }\n                        }\n                      ]\n                    },\n                    {\n                      "step": "1.1.3.2",\n                      "target": "answer.push([from, to]);",\n                      "example": "answer.push([2, 3]);",\n                      "description": "The move from peg 2 to peg 3 is added to the answer array.",\n                      "result": {\n                        "answer": [\n                          [1, 3],\n                          [1, 2],\n                          [2, 3],\n                          [1, 3],\n                          [2, 1],\n                          [2, 3]\n                        ]\n                      }\n                    },\n                    {\n                      "step": "1.1.3.3",\n                      "target": "hanoi(n - 1, via, to, from)",\n                      "example": "hanoi(1, 1, 3, 2)",\n                      "description": "The hanoi function is called recursively with n=1, from=1, to=3, and via=2.",\n                      "result": {\n                        "answer": [\n                          [1, 3],\n                          [1, 2],\n                          [2, 3],\n                          [1, 3],\n                          [2, 1],\n                          [2, 3]\n                        ]\n                      },\n                      "steps": [\n                        {\n                          "step": "1.1.3.3.1",\n                          "target": "answer.push([from, to]);",\n                          "example": "answer.push([1, 3]);",\n                          "description": "The base case of the recursion is reached, and the move from peg 1 to peg 3 is added to the answer array.",\n                          "result": {\n                            "answer": [\n                              [1, 3],\n                              [1, 2],\n                              [2, 3],\n                              [1, 3],\n                              [2, 1],\n                              [2, 3],\n                              [1, 3]\n                            ]\n                          }\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }',"\n        function solution(n) {\n          let answer = [];\n          const hanoi = (n, from, to, via) => {\n              if (n === 1) answer.push([from, to]); \n              else {\n                \n                  \n                  hanoi(n - 1, from, via, to);\n                  answer.push([from, to]);\n                  hanoi(n - 1, via, to, from);\n              }\n          } \n          hanoi(n, 1, 3, 2);\n          return answer;\n      }\n    ",!0)},j=()=>{if(!i)throw{result:!1,message:"Please select inquiry type."};return{result:!0,message:"Success"}},E=e=>{try{return j(),function(){try{JSON.parse(e.trim())}catch(e){throw console.error("error :: ",e),{result:!1,message:"Invalid JSON format."}}}(),function(e){let t=Object.keys(JSON.parse(e)),n={example:["target","example","steps"],tree:["content"],logical_progression:["steps"]}[null!=i?i:"example"];if(!n)throw{result:!1,message:"Invalid inquiry type. Please try again."};let r=n.find(e=>!t.includes(e));if(r)throw{result:!1,message:"A required key is missing in the JSON: ".concat(r,". Please try again.")}}(e),{result:!0,message:"Success!"}}catch(e){return{result:!1,message:e.message}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N,{items:a,selectedValue:i,changeInquiryType:e=>{o(e),l({type:"RESET_STRUCTURE"}),m(),t(""),n(!1)},gap:80}),(0,r.jsxs)("div",{className:"flex w-full mt-4",children:[(0,r.jsx)(T,{value:x,onChange:e=>v(e.target.value),className:"border flex-4 w-full h-[90px]"}),(0,r.jsx)(S,{onClick:b,className:"min-w-[90px] h-[90px] ml-2 flex-1",isLoading:f,children:"Submit"}),(0,r.jsx)(M,{submitPrompt:b}),(0,r.jsx)(S,{onClick:w,className:"min-w-[90px] h-[90px] ml-2 flex-1 justify-center item-center",isLoading:f,variant:"outline",children:"Example"})]})]})}function z(){let[e,t]=(0,s.useState)(""),[n,a]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"flex flex-col items-center w-[80vw]",children:[(0,r.jsx)(q,{setSubmittedText:t,setIsOpenSubmittedText:a}),(0,r.jsx)(m,{submittedText:e,isOpenSubmittedText:n,setIsOpenSubmittedText:a}),(0,r.jsx)(g,{})]})}},778:function(e,t,n){"use strict";n.r(t),n.d(t,{HighlightProvider:function(){return u},useCurrentHighlightStatus:function(){return m},useDiagramRefsPalette:function(){return h},useHandleDiagramItem:function(){return g},useHighlightItems:function(){return d},useResetHighlight:function(){return p}});var r=n(7437),s=n(9906),a=n(2265),i=n(9830);let o=["#E3FDFD","#D4F3EF","#F9E2E3","#F0F7EE","#D2E4F2"],l=(0,s.kr)(null),c=(0,s.kr)(null),u=e=>{let{children:t}=e,{highlightItems:n,currentHighlightStatus:s,diagramItemsListRef:u,colorPalette:d,targetColorMap:m,handleDiagramItem:h,resetHighlight:p}=function(e){let{inquiryType:t}=e,[n,r]=(0,a.useState)([]),s=(0,a.useRef)([]),i={NONE:0,SAME_DEPTH:1,SEPARATE_COLOR:2,SINGLE_STEP:3},[l,c]=(0,a.useState)({value:0}),u=(0,a.useRef)({}),d=(0,a.useCallback)((e,a)=>{if("highlight"===e){if("logical_progression"===t){let e;r(e=n.includes(a.diagramId)?n.filter(e=>e!==a.diagramId):[...n,a.diagramId]),e.length>0?c({value:i.SEPARATE_COLOR}):c({value:i.NONE});return}let{parentDiagramId:e}=a,l=s.current.filter(t=>t.parentDiagramId===e).map(e=>e.diagramId);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return({[i.NONE]:[],[i.SAME_DEPTH]:[...t],[i.SEPARATE_COLOR]:[...n,...t],[i.SINGLE_STEP]:[a.diagramId]})[e]||[]}n.length>0&&l.some(e=>!n.includes(e))?(c({value:0}),r(o(0,l))):c(e=>{let t={value:(e.value+1)%4};return r(o(t.value,l)),t})}},[t,n]),m=(0,a.useCallback)(()=>{r([]),c({value:0})},[]);return s.current=[],{handleDiagramItem:d,highlightItems:n,diagramItemsListRef:s,currentHighlightStatus:l,colorPalette:o,targetColorMap:u,resetHighlight:m}}({inquiryType:(0,i.useInquiryType)()}),g=(0,a.useMemo)(()=>({highlightItems:n,currentHighlightStatus:s,diagramItemsListRef:u,colorPalette:d,targetColorMap:m}),[n,s]),f=(0,a.useMemo)(()=>({resetHighlight:p,handleDiagramItem:h}),[p,h]);return(0,r.jsx)(c.Provider,{value:f,children:(0,r.jsx)(l.Provider,{value:g,children:t})})},d=()=>(0,s.Sz)(l,e=>e.highlightItems),m=()=>(0,s.Sz)(l,e=>e.currentHighlightStatus),h=()=>(0,s.Sz)(l,e=>({diagramItemsListRef:e.diagramItemsListRef,colorPalette:e.colorPalette,targetColorMap:e.targetColorMap})),p=()=>(0,s.Sz)(c,e=>e.resetHighlight),g=()=>(0,s.Sz)(c,e=>e.handleDiagramItem)},9830:function(e,t,n){"use strict";n.r(t),n.d(t,{LLMProvider:function(){return d},useInquiryType:function(){return m},useInquiryTypesList:function(){return p},useLLMActions:function(){return g},useSetInquiryType:function(){return h}});var r=n(7437),s=n(9906),a=n(2265),i=n(7231),o=n(2131),l=n(591),c=n(1639);let u=(0,s.kr)(null),d=e=>{let{children:t}=e,{getAnswerFromModel:n,getPromptByInputText:s,inquiryType:d,setInquiryType:m,inquiryTypeList:h}=function(e){let{model:t="llama3-groq-70b-8192-tool-use-preview",service:n="groq"}=e,{callLLM:r}=function(){let e="\n  You must follow below 'Guideline' about [INPUT TEXT].\n  Guideline:\n",t=()=>{let e="en";return("undefined"!=typeof navigator&&(e=navigator.language.toLowerCase()),e.startsWith("ko"))?"\n      RESPONSE RULE:\n      - You must respond strictly in only JSON format.\n      - 'description' field is Korean language.\n      \n      [INPUT TEXT]:\n      ":e.startsWith("ja")?"\n      RESPONSE RULE:\n      - You must respond strictly in only JSON format.\n      - 'description' field is japanese language.\n      \n      [INPUT TEXT]:\n      ":e.startsWith("zh")?"\n      RESPONSE RULE:\n      - You must respond strictly in only JSON format.\n      - 'description' field is chinese language.\n      \n      [INPUT TEXT]:\n      ":(e.startsWith("en"),"\n      RESPONSE RULE:\n      - You must respond strictly in only JSON format.\n      \n      [INPUT TEXT]:\n      ")},n=(n,r)=>{switch(n){case"tree":return e+'\n  a. Break down the input content into indivisible conceptual units. Each unit should be an atomic element within the context.\n  b. Group these units into larger logical structures or categories that share a common theme or relationship.\n  c. Within each group, if further subdivisions are possible, repeat the process by clustering smaller related units until no further meaningful grouping can be performed.\n  d. Include all necessary elements from the input text, ensuring no duplication, while maintaining maximum coverage of important information.\n\n  2. Based on divided elements, generate a JSON structure that represents relationship of elements.  Each element in the JSON should follow this format:\n  {\n    displayType: tree,\n    content: [ \n      {\n        "element_name": Name of the element\n        "related_elements": [\n          {\n            "element_name": Name of child element, \n            "relationTypeWithParent": Describe relationship with the parent element, \n            "relationship": [if there is a relationship between elements, display it here],\n            "description": Description explaining relationship and context of this element,\n          },\n        ],\n        description: Description explaining relationship and context of this element,\n      }\n    ]\n  }\n'+t()+"".concat(r);case"list_compare":return e+"\n  a. Identify the main criteria or themes that can be used to list elements from the input content. (There can be multiple top-level elements, and if there are multiple, it is 'compare'.)\n  b. Break down the content into individual elements that fit these criteria.\n  c. Organize these elements into a simple list, ensuring each aligns with the main context or theme.\n\n  2. Based on divided elements, generate a JSON structure that represents relationship of elements. Each element in the JSON should follow this format:\n"+t()+"".concat(r);case"example":return e+'\n  Complete a [step-by-step example] following the [Guideline] and [format] below:\n  [Guideline]:\n    - Fully expand each \'steps\' array for recursive calls or process, showing all intermediate results.\n    - Each step should be a part of the logical progression, leading to a final conclusion.\n    - Next step must be derived from the previous step based on the logical context of parent step.\n    - All steps must be verified to ensure their validity by verifying that they are derived from valid logic.\n    \n  [format]:\n  {  \n    "target": <Identify the key element from the INPUT TEXT>,  \n    "example": <Create a relevant use case for the target>,  \n    "steps": [  \n      {  \n        "step": <Step number>,  \n        "target": <Identify the specific element that exactly matchs the INPUT TEXT within the logical context>,  \n        "example": <Create a [use case] that applies to the target at this step>,  \n        "description": <Explain the effects when the example is applied>,  \n        "result": {\n          <Provide specific elements that have been changed up to this step as a result within the logical context>\n        },  \n        "steps": []\n      }  \n    ]  \n  }  \n'+t()+"".concat(r);case"logical_progression":return e+'\n  a. Identify the main logical flow or sequence of arguments presented in the INPUT TEXT.\n  b. Break down the content into a series of logical steps or stages that build upon each other.\n  c. Ensure each step logically follows from the previous one, creating a coherent progression toward a conclusion.\n  d. Highlight any assumptions, inferences, or implications made between steps.\n  e. Include all critical points from the INPUT TEXT, maintaining the integrity of the original logical argument.\n\n  Complete a [logical progression] following the guide below:\n  {\n    "title": <Provide a concise title summarizing the logical progression>,\n    "steps": [\n      {\n        "step": <Step number>,\n        "target": <Identify the matching element that corresponds to the INPUT TEXT within the logical context>,\n        "statement": <State the logical statement or argument at this step>,\n        "description": <Explain how this step follows from the previous step and contributes to the overall progression>,\n        "implications": <Describe any implications or consequences of this step>\n        "steps": [ // Optional, for nested logical progressions within this step\n          {\n            "step": <Sub-step number>,\n            "statement": <State the logical statement or argument at this sub-step>,\n            "description": <Explain how this sub-step relates to its parent step>,\n            "implications": <Describe any implications or consequences of this sub-step>\n          }\n        ]\n      }\n    ],\n    "conclusion": <Summarize the final conclusion or outcome of the logical progression>\n  }\n'+t()+"".concat(r);default:throw Error("Invalid inquiry type")}},r=(e,t,r)=>{let s=n(t,e);return l.ks.fromMessages([new i.jN("\n    You should understand [INPUT TEXT] and structure it following guideline.\n  "),new i.xk(s)])};return{callLLM:async function(e){try{var t;let{input:n,topic:s,inquiryType:a,serviceInfo:i,getOnlyPrompt:l=!1}=e;if(l)return{output:r(n,a,s).promptMessages[1]};let u=(t=i.service,new c.T("groq"===t?{apiKey:"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",model:i.model,temperature:.1,maxTokens:void 0,maxRetries:2}:{apiKey:"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",model:i.model,temperature:.2,maxTokens:void 0,maxRetries:2})),d=r(n,a,s).pipe(u).pipe(new o.AN);return await d.invoke({})}catch(e){throw Error(e.message)}}}}(),[s,u]=(0,a.useState)(null),d=()=>s?{result:!0,message:"Success"}:{result:!1,message:"Please select inquiry type."},m=async e=>{try{let{result:t,message:n}=d();if(!t)throw Error(n);return(await r({input:e,inquiryType:s,serviceInfo:{},getOnlyPrompt:!0})).output.content}catch(e){throw{variant:"warning",message:null==e?void 0:e.message}}};return{getAnswerFromModel:async(e,t)=>{try{let{result:t,message:n}=d();if(!t)throw Error(n);return await r({input:e,inquiryType:s,serviceInfo:{service:"groq",model:"llama-3.3-70b-versatile"}})}catch(e){throw{variant:"warning",message:null==e?void 0:e.message}}},inquiryType:s,setInquiryType:u,inquiryTypeList:[{value:"tree",label:"Tree"},{value:"example",label:"Example"},{value:"logical_progression",label:"Logical Progression"}],getPromptByInputText:m}}({}),[p,g]=(0,a.useState)(!1),f=async e=>{g(!0);try{return await n(e)}finally{g(!1)}},x=(0,a.useMemo)(()=>({inquiryType:d,setInquiryType:m,inquiryTypeList:h,getAnswer:f,getPrompt:s,getPromptByInputText:s,isLoading:p}),[d,p,h,f,s]);return(0,r.jsx)(u.Provider,{value:x,children:t})},m=()=>(0,s.Sz)(u,e=>e.inquiryType),h=()=>(0,s.Sz)(u,e=>e.setInquiryType),p=()=>(0,s.Sz)(u,e=>e.inquiryTypeList),g=()=>(0,s.Sz)(u,e=>({getAnswer:e.getAnswer,getPrompt:e.getPrompt,getPromptByInputText:e.getPromptByInputText,isLoading:e.isLoading}))},8961:function(e,t,n){"use strict";n.r(t),n.d(t,{RenderProvider:function(){return p},useContentWrapperRef:function(){return f},useRenderItems:function(){return g}});var r=n(7437),s=n(9906),a=n(2265);function i(e){let{diagramId:t,step:n,parentDiagramId:s,depth:i,target:o,example:l,description:c,result:u,handleDiagramItem:d,highlightItems:m,highlightColor:h,children:p}=e,[g,f]=(0,a.useState)(!1),x=e=>{e.stopPropagation(),d("highlight",{diagramId:t,depth:i,parentDiagramId:s})},v=()=>{var e;f(null!==(e=null==m?void 0:m.includes(t))&&void 0!==e&&e)};return(0,a.useEffect)(()=>{v()},[m]),(0,r.jsxs)("div",{className:"rounded-xl border-[1px] p-4 my-2 transition-all duration-300 transform cursor-pointer\n                   ml-".concat(5*i),style:{backgroundColor:g?h:"white"},onClick:e=>x(e),children:[(0,r.jsxs)("div",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Step ",n]}),(0,r.jsxs)("div",{className:"text-gray-700",children:[(0,r.jsx)("strong",{children:"Target:"})," ",o]}),(0,r.jsxs)("div",{className:"text-gray-700",children:[(0,r.jsx)("strong",{children:"Example:"})," ",l]}),(0,r.jsxs)("div",{className:"text-gray-700",children:[(0,r.jsx)("strong",{children:"Description:"})," ",c]}),(0,r.jsxs)("div",{className:"text-gray-700",children:[(0,r.jsx)("strong",{children:"Result:"})," ",JSON.stringify(u)]}),(0,r.jsx)("div",{className:"mt-3",children:p})]})}function o(e){let{diagramId:t,step:n,parentDiagramId:s,depth:i,target:o,statement:l,description:c,implications:u,handleDiagramItem:d,highlightItems:m,highlightColor:h}=e,[p,g]=(0,a.useState)(!1),f=e=>{e.stopPropagation(),d("highlight",{diagramId:t,depth:i,parentDiagramId:s})},x=()=>{var e;g(null!==(e=null==m?void 0:m.includes(t))&&void 0!==e&&e)};return(0,a.useEffect)(()=>{x()},[m]),(0,r.jsxs)("div",{className:"rounded-lg border p-4 my-3 transition-all duration-300 transform cursor-pointer ".concat(p?"shadow-md":""),style:{backgroundColor:p?h:"#ffffff",marginLeft:"".concat(20*i,"px"),borderColor:p?h:"#e5e7eb"},onClick:e=>f(e),children:[(0,r.jsxs)("div",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Step ",n]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,r.jsx)("strong",{className:"text-gray-700",children:"Target:"})," ",o]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,r.jsx)("strong",{className:"text-gray-700",children:"Statement:"})," ",l]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,r.jsx)("strong",{className:"text-gray-700",children:"Description:"})," ",c]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsx)("strong",{className:"text-gray-700",children:"Implications:"})," ",u]})]})}var l=n(8641),c=n(7252),u=e=>{let{diagramId:t,elementName:n,relationTypeWithParent:s,description:i,relationship:o,depth:u,parentDiagramId:d,handleDiagramItem:m,highlightItems:h,highlightColor:p,children:g}=e,[f,x]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),b=()=>{var e;x(null!==(e=null==h?void 0:h.includes(t))&&void 0!==e&&e)};return(0,a.useEffect)(()=>{b()},[h]),(0,r.jsxs)("div",{className:"relative rounded-3xl border-[1px] p-4 my-2 transition-all duration-300 transform cursor-pointer max-w-[400px] min-w-[180px]\n                 ml-".concat(5*u," bg-white ").concat(v?"":"max-w-min max-h-min"),style:{backgroundColor:f?p:"white"},onClick:e=>{e.stopPropagation(),m("highlight",{diagramId:t,depth:u,parentDiagramId:d})},children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),y(e=>!e)},className:"absolute top-2 right-2 hover:bg-gray-200 rounded p-1 flex items-center justify-center",style:{width:"20px",height:"20px"},children:v?(0,r.jsx)(c.wQF,{}):(0,r.jsx)(l.v3P,{})}),(0,r.jsx)("div",{className:"text-lg font-semibold text-gray-800 mb-2 mt-2 ml-4 mr-6",children:n}),(0,r.jsxs)("div",{className:"transition-all duration-300 overflow-hidden ".concat(v?"max-h-min opacity-100":"max-h-0 opacity-0"),children:[s&&(0,r.jsxs)("div",{className:"text-gray-700",children:[(0,r.jsx)("strong",{children:"Relationship with Parent:"})," ",s]}),(0,r.jsxs)("div",{className:"text-gray-700",children:[(0,r.jsx)("strong",{children:"Description:"})," ",i]}),o&&o.length>0&&(0,r.jsxs)("div",{className:"text-gray-700",children:[(0,r.jsx)("strong",{children:"Relationships:"})," ",JSON.stringify(o)]}),(0,r.jsx)("div",{className:"mt-3",children:g})]})]})},d=n(9830),m=n(778);let h=(0,s.kr)(null),p=e=>{let{children:t}=e,n=(0,d.useInquiryType)(),{diagramItemsListRef:s,colorPalette:l,targetColorMap:c}=(0,m.useDiagramRefsPalette)(),p=(0,m.useHighlightItems)(),{renderDiagramItems:g,contentWrapperRef:f}=function(e){let{diagramItemsListRef:t,currentHighlightStatus:n,colorPalette:s,targetColorMap:l,handleDiagramItem:c,highlightItems:d,inquiryType:m}=e,h=(0,a.useRef)(null),p=e=>2===n.value?s[e%s.length]:"#fef3c7",g=(e,t)=>2===n.value&&"#fef3c7"!==l.current[t]?l.current[t]:2===n.value?s[e%s.length]:"#fef3c7",f=function(e){var n;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=0===s,u=o?"root":a,m=t.current.length;t.current.push({diagramId:e.diagramId,parentDiagramId:u});let p=g(m,e.target);return l.current[e.target]=p,(0,r.jsx)("div",{className:"flex ".concat(s>0?"pl-5":""," flex-row space-x-4"),ref:o?h:null,children:(0,r.jsx)(i,{diagramId:e.diagramId,step:e.step,parentDiagramId:u,depth:s,target:e.target,example:e.example,description:e.description,result:e.result,handleDiagramItem:c,highlightItems:d,highlightColor:p,children:null===(n=e.steps)||void 0===n?void 0:n.map(t=>f(t,s+1,e.diagramId))})},"".concat(s,"-").concat(e.step))},x=function(e){var n;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(0,r.jsxs)("div",{className:"mt-8 mb-8 flex flex-col space-y-6",ref:0===s?h:null,children:[e.title&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-1 h-8 bg-gray-300 rounded-full"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 ml-4 flex items-center",children:e.title})]}),null===(n=e.steps)||void 0===n?void 0:n.map((e,n)=>{let i=e.diagramId,u=t.current.length;t.current.push({diagramId:i,parentDiagramId:a||"root"});let m=p(u);return l.current[e.target]=m,(0,r.jsx)(o,{diagramId:i,step:e.step,parentDiagramId:a,depth:s+1,target:e.target,statement:e.statement,description:e.description,implications:e.implications,handleDiagramItem:c,highlightItems:d,highlightColor:m},n)}),e.conclusion&&(0,r.jsxs)("div",{className:"ml-4 p-4 bg-white border border-gray-300 rounded-lg shadow-sm",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Conclusion"}),(0,r.jsx)("p",{className:"text-gray-700",children:e.conclusion})]})]})},v=e=>{if(!e.content||!Array.isArray(e.content))return null;let n=(e,s,a)=>{let i=e.diagramId,o=0===s;t.current.push({diagramId:i,parentDiagramId:a||"root"});let m=p(t.current.length-1);return l.current[e.element_name]=m,(0,r.jsx)("div",{className:"flex ".concat(s>0?"pl-5":""," flex-row space-x-4"),ref:o?h:null,children:(0,r.jsx)(u,{diagramId:i,elementName:e.element_name,relationTypeWithParent:e.relationTypeWithParent,description:e.description,relationship:e.relationship,depth:s,parentDiagramId:a,handleDiagramItem:c,highlightItems:d,highlightColor:m,children:e.related_elements&&e.related_elements.map(e=>n(e,s+1,i))})},i)};return(0,r.jsx)("div",{className:"flex flex-row flex-wrap gap-4",children:e.content.map(e=>n(e,0,"root"))})};return{renderDiagramItems:e=>{switch(m){case"tree":return v(e);case"example":default:return f(e);case"logical_progression":return x(e)}},contentWrapperRef:h}}({diagramItemsListRef:s,currentHighlightStatus:(0,m.useCurrentHighlightStatus)(),colorPalette:l,targetColorMap:c,handleDiagramItem:(0,m.useHandleDiagramItem)(),highlightItems:p,inquiryType:n}),x=(0,a.useMemo)(()=>({renderDiagramItems:g,contentWrapperRef:f}),[g]);return(0,r.jsx)(h.Provider,{value:x,children:t})},g=()=>(0,s.Sz)(h,e=>e.renderDiagramItems),f=()=>(0,s.Sz)(h,e=>e.contentWrapperRef)},4478:function(e,t,n){"use strict";n.r(t),n.d(t,{StepProvider:function(){return d},useEntireSpreadedStep:function(){return m},useFocusSpreadedStep:function(){return h},useResetDataStructure:function(){return p}});var r=n(7437),s=n(9906),a=n(2265),i=n(4676),o=n(778),l=n(9830);let c=(0,s.kr)(null),u=(0,s.kr)(null),d=e=>{let{children:t}=e,n=(0,i.useStructure)(),s=(0,l.useInquiryType)(),{assignDiagramIds:d,setSpreadSteps:m,entireSpreadedStep:h,focusSpreadedStep:p,resetDataStructure:g}=function(e){let{highlightItems:t,currentHighlightStatus:n,structure:r,inquiryType:s}=e,[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("tree"===s){let n="".concat(t,"-").concat(e.content?"root":e.element_name);return e.diagramId=n,e.content&&e.content.length>0?e.content.forEach(e=>{u(e,t+1)}):e.related_elements&&e.related_elements.length>0&&e.related_elements.forEach(e=>{u(e,t+1)}),e}let n="".concat(t,"-").concat(e.step||"root");return e.diagramId=n,e.steps&&e.steps.length>0&&e.steps.forEach(e=>{u(e,t+1)}),e},d=(0,a.useCallback)(()=>{o([]),c([])},[]);return(0,a.useEffect)(()=>{t.length>0&&i.length>0?c([...i&&0!==t.length?i.filter(e=>t.includes(e.diagramId)):i]):c([...i])},[n,r]),{setSpreadSteps:e=>{if(o([]),c([]),e){let t=function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t&&(n.push(t),"tree"===s?t.content&&t.content.length>0?t.content.forEach(t=>{e(t,n)}):t.related_elements&&t.related_elements.length>0&&t.related_elements.forEach(t=>{e(t,n)}):t.steps&&t.steps.length>0&&t.steps.forEach(t=>{e(t,n)})),n}(e);("logical_progression"===s||"tree"===s)&&t.shift(),o([...t]),c([...t])}},entireSpreadedStep:i,focusSpreadedStep:l,assignDiagramIds:u,resetDataStructure:d}}({highlightItems:(0,o.useHighlightItems)(),currentHighlightStatus:(0,o.useCurrentHighlightStatus)(),structure:n,inquiryType:s});(0,a.useEffect)(()=>{n?(d(n),m(n)):g()},[n]);let f=(0,a.useMemo)(()=>({entireSpreadedStep:h,focusSpreadedStep:p}),[h,p]),x=(0,a.useMemo)(()=>({resetDataStructure:g}),[g]);return(0,r.jsx)(u.Provider,{value:x,children:(0,r.jsx)(c.Provider,{value:f,children:t})})},m=()=>(0,s.Sz)(c,e=>e.entireSpreadedStep),h=()=>(0,s.Sz)(c,e=>e.focusSpreadedStep),p=()=>(0,s.Sz)(u,e=>e.resetDataStructure)},4676:function(e,t,n){"use strict";n.r(t),n.d(t,{StructureProvider:function(){return c},useStructure:function(){return u},useStructureDispatch:function(){return d}});var r=n(7437),s=n(9906),a=n(2265);function i(e,t){switch(t.type){case"SET_STRUCTURE":return t.payload;case"RESET_STRUCTURE":return null;default:return e}}let o=(0,s.kr)(null),l=(0,s.kr)(null),c=e=>{let{children:t}=e,[n,s]=(0,a.useReducer)(i,null),c=(0,a.useMemo)(()=>n,[n]);return(0,r.jsx)(l.Provider,{value:s,children:(0,r.jsx)(o.Provider,{value:c,children:t})})},u=()=>(0,s.Sz)(o,e=>e),d=()=>(0,s.Sz)(l,e=>e)},6862:function(e,t,n){"use strict";n.d(t,{Am:function(){return d},pm:function(){return m}});var r=n(2265);let s=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?i(n):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function u(e){c=o(c,e),l.forEach(e=>{e(c)})}function d(e){let{...t}=e,n=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>u({type:"DISMISS_TOAST",toastId:n});return u({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||r()}}}),{id:n,dismiss:r,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:n}})}}function m(){let[e,t]=r.useState(c);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},2169:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var r=n(3167),s=n(1367);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}}},function(e){e.O(0,[305,614,453,885,971,69,744],function(){return e(e.s=8529)}),_N_E=e.O()}]);